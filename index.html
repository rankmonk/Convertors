<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Marketing Calculator | Conversion Rate, ROI, ROAS</title>
    <style>
      :root {
        font-family: "Inter", system-ui, -apple-system, sans-serif;
        color: #0f172a;
        background: #f8fafc;
      }
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        padding: 24px;
        display: flex;
        justify-content: center;
      }
      .card {
        max-width: 960px;
        width: 100%;
        background: #ffffff;
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        padding: 24px;
        box-shadow: 0 12px 30px rgba(15, 23, 42, 0.08);
      }
      h1 {
        margin: 0 0 6px;
        font-size: 28px;
        letter-spacing: -0.5px;
      }
      p.lead {
        margin: 0 0 20px;
        color: #475569;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 16px;
      }
      label {
        display: block;
        font-weight: 600;
        margin-bottom: 6px;
        color: #0f172a;
      }
      input {
        width: 100%;
        padding: 10px 12px;
        border: 1px solid #cbd5e1;
        border-radius: 10px;
        font-size: 15px;
        background: #f8fafc;
      }
      input:focus {
        outline: 2px solid #2563eb;
        background: #fff;
      }
      .section {
        margin-top: 20px;
        padding: 16px;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
      }
      .section h2 {
        margin: 0 0 8px;
        font-size: 18px;
      }
      .result {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 12px 14px;
        margin-top: 8px;
        background: #f1f5f9;
        border-radius: 10px;
        font-weight: 700;
      }
      .result small {
        display: block;
        font-weight: 500;
        color: #475569;
      }
      .actions {
        display: flex;
        gap: 12px;
        margin-top: 18px;
        flex-wrap: wrap;
      }
      button {
        padding: 10px 14px;
        border-radius: 10px;
        border: none;
        cursor: pointer;
        font-weight: 600;
      }
      .primary {
        background: #2563eb;
        color: #fff;
      }
      .ghost {
        background: #e2e8f0;
        color: #0f172a;
      }
      .footnote {
        margin-top: 18px;
        color: #475569;
        font-size: 14px;
      }
      @media (max-width: 640px) {
        body {
          padding: 16px;
        }
        .card {
          padding: 18px;
        }
      }
    </style>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body>
    <div class="card">
      <div id="root"></div>
    </div>
    <script type="text/babel">
      const numberOrNull = (value) => {
        const parsed = parseFloat(value);
        return Number.isFinite(parsed) ? parsed : null;
      };

      const formatPct = (value) =>
        value === null ? "—" : `${value.toFixed(2)}%`;

      const formatRatio = (value) =>
        value === null ? "—" : `${value.toFixed(2)}x`;

      const formatNumber = (value) =>
        value === null ? "—" : `${value.toFixed(2)}`;

      const App = () => {
        const [selectedCalc, setSelectedCalc] = React.useState("conversionRate");
        const [inputs, setInputs] = React.useState({
          userName: "",
          visitors: "",
          conversions: "",
          revenue: "",
          cost: "",
          adSpend: "",
          initialValue: "",
          finalValue: "",
          reversePercent: "",
          reverseFinalValue: "",
          partValue: "",
          wholeValue: "",
        });

        const update = (key) => (event) =>
          setInputs((prev) => ({ ...prev, [key]: event.target.value }));

        const reset = () => {
          setInputs({
            userName: "",
            visitors: "",
            conversions: "",
            revenue: "",
            cost: "",
            adSpend: "",
            initialValue: "",
            finalValue: "",
            reversePercent: "",
            reverseFinalValue: "",
            partValue: "",
            wholeValue: "",
          });
        };

        const resetAll = () => {
          reset();
          setSelectedCalc("conversionRate");
        };

        const visitors = numberOrNull(inputs.visitors);
        const conversions = numberOrNull(inputs.conversions);
        const revenue = numberOrNull(inputs.revenue);
        const cost = numberOrNull(inputs.cost);
        const adSpend = numberOrNull(inputs.adSpend);
        const initialValue = numberOrNull(inputs.initialValue);
        const finalValue = numberOrNull(inputs.finalValue);
        const reversePercent = numberOrNull(inputs.reversePercent);
        const reverseFinalValue = numberOrNull(inputs.reverseFinalValue);
        const partValue = numberOrNull(inputs.partValue);
        const wholeValue = numberOrNull(inputs.wholeValue);

        const conversionRate =
          visitors && conversions >= 0 && visitors > 0
            ? (conversions / visitors) * 100
            : null;

        const roi =
          cost !== null && revenue !== null && cost !== 0
            ? ((revenue - cost) / cost) * 100
            : null;

        const roas =
          adSpend !== null && adSpend > 0 && revenue !== null
            ? revenue / adSpend
            : null;

        const percentGrowth =
          initialValue !== null &&
          finalValue !== null &&
          initialValue !== 0
            ? ((finalValue - initialValue) / initialValue) * 100
            : null;

        const reverseOriginal =
          reversePercent !== null &&
          reverseFinalValue !== null &&
          reversePercent !== -100
            ? reverseFinalValue / (1 + reversePercent / 100)
            : null;

        const percentOf =
          partValue !== null &&
          wholeValue !== null &&
          wholeValue !== 0
            ? (partValue / wholeValue) * 100
            : null;

        const renderInputs = () => {
          switch (selectedCalc) {
            case "conversionRate":
              return (
                <>
                  <div>
                    <label htmlFor="visitors">Website visits</label>
                    <input
                      id="visitors"
                      type="number"
                      min="0"
                      inputMode="decimal"
                      placeholder="e.g. 1200"
                      value={inputs.visitors}
                      onChange={update("visitors")}
                    />
                  </div>
                  <div>
                    <label htmlFor="conversions">Conversions</label>
                    <input
                      id="conversions"
                      type="number"
                      min="0"
                      inputMode="decimal"
                      placeholder="e.g. 96"
                      value={inputs.conversions}
                      onChange={update("conversions")}
                    />
                  </div>
                </>
              );
            case "roi":
              return (
                <>
                  <div>
                    <label htmlFor="revenue">Revenue</label>
                    <input
                      id="revenue"
                      type="number"
                      min="0"
                      inputMode="decimal"
                      placeholder="e.g. 18000"
                      value={inputs.revenue}
                      onChange={update("revenue")}
                    />
                  </div>
                  <div>
                    <label htmlFor="cost">Total cost</label>
                    <input
                      id="cost"
                      type="number"
                      min="0"
                      inputMode="decimal"
                      placeholder="e.g. 9000"
                      value={inputs.cost}
                      onChange={update("cost")}
                    />
                  </div>
                </>
              );
            case "roas":
              return (
                <>
                  <div>
                    <label htmlFor="revenue">Revenue</label>
                    <input
                      id="revenue"
                      type="number"
                      min="0"
                      inputMode="decimal"
                      placeholder="e.g. 18000"
                      value={inputs.revenue}
                      onChange={update("revenue")}
                    />
                  </div>
                  <div>
                    <label htmlFor="adSpend">Ad spend</label>
                    <input
                      id="adSpend"
                      type="number"
                      min="0"
                      inputMode="decimal"
                      placeholder="e.g. 7500"
                      value={inputs.adSpend}
                      onChange={update("adSpend")}
                    />
                  </div>
                </>
              );
            case "growth":
              return (
                <>
                  <div>
                    <label htmlFor="initialValue">Initial value</label>
                    <input
                      id="initialValue"
                      type="number"
                      inputMode="decimal"
                      placeholder="e.g. 1000"
                      value={inputs.initialValue}
                      onChange={update("initialValue")}
                    />
                  </div>
                  <div>
                    <label htmlFor="finalValue">Final value</label>
                    <input
                      id="finalValue"
                      type="number"
                      inputMode="decimal"
                      placeholder="e.g. 1300"
                      value={inputs.finalValue}
                      onChange={update("finalValue")}
                    />
                  </div>
                </>
              );
            case "reverse":
              return (
                <>
                  <div>
                    <label htmlFor="reversePercent">Change % (for reverse)</label>
                    <input
                      id="reversePercent"
                      type="number"
                      inputMode="decimal"
                      placeholder="e.g. 25"
                      value={inputs.reversePercent}
                      onChange={update("reversePercent")}
                    />
                  </div>
                  <div>
                    <label htmlFor="reverseFinalValue">Final value (for reverse)</label>
                    <input
                      id="reverseFinalValue"
                      type="number"
                      inputMode="decimal"
                      placeholder="e.g. 1250"
                      value={inputs.reverseFinalValue}
                      onChange={update("reverseFinalValue")}
                    />
                  </div>
                </>
              );
            case "partOfWhole":
              return (
                <>
                  <div>
                    <label htmlFor="partValue">Part (X)</label>
                    <input
                      id="partValue"
                      type="number"
                      inputMode="decimal"
                      placeholder="e.g. 25"
                      value={inputs.partValue}
                      onChange={update("partValue")}
                    />
                  </div>
                  <div>
                    <label htmlFor="wholeValue">Whole (Y)</label>
                    <input
                      id="wholeValue"
                      type="number"
                      inputMode="decimal"
                      placeholder="e.g. 200"
                      value={inputs.wholeValue}
                      onChange={update("wholeValue")}
                    />
                  </div>
                </>
              );
            default:
              return null;
          }
        };

        const renderResult = () => {
          switch (selectedCalc) {
            case "conversionRate":
              return {
                title: "Conversion Rate",
                hint: "Conversions ÷ Visits",
                value: formatPct(conversionRate),
              };
            case "roi":
              return {
                title: "ROI",
                hint: "(Revenue − Cost) ÷ Cost",
                value: formatPct(roi),
              };
            case "roas":
              return {
                title: "ROAS",
                hint: "Revenue ÷ Ad Spend",
                value: formatRatio(roas),
              };
            case "growth":
              return {
                title: "Percentage Growth",
                hint: "(Final − Initial) ÷ Initial",
                value: formatPct(percentGrowth),
              };
            case "reverse":
              return {
                title: "Reverse Percentage",
                hint: "Original value given final and % change",
                value: reverseOriginal === null ? "—" : reverseOriginal.toFixed(2),
              };
            case "partOfWhole":
              return {
                title: "What % is X of Y?",
                hint: "X ÷ Y",
                value: formatPct(percentOf),
              };
            default:
              return null;
          }
        };

        const result = renderResult();
        const summary = (() => {
          const namePrefix = inputs.userName ? `${inputs.userName}, ` : "";
          switch (selectedCalc) {
            case "conversionRate":
              return `${namePrefix}your conversion rate is ${formatPct(conversionRate)}.`;
            case "roi":
              return `${namePrefix}your ROI is ${formatPct(roi)}.`;
            case "roas":
              return `${namePrefix}your ROAS is ${formatRatio(roas)}.`;
            case "growth":
              return `${namePrefix}the percentage growth is ${formatPct(percentGrowth)}.`;
            case "reverse":
              return `${namePrefix}the original value is ${formatNumber(reverseOriginal)} based on the provided change.`;
            case "partOfWhole":
              return `${namePrefix}${formatPct(percentOf)} of the total.`;
            default:
              return "";
          }
        })();

        return (
          <div>
            <header>
              <h1>Marketing Performance Calculator</h1>
              <p className="lead">
                Enter your campaign metrics to instantly see Conversion Rate, ROI, and ROAS.
              </p>
              {inputs.userName && (
                <p className="lead" style={{ marginTop: "6px" }}>
                  Hello, {inputs.userName}!
                </p>
              )}
            </header>

            <div className="section">
              <h2>Pick a calculation</h2>
              <div className="grid">
                <div>
                  <label htmlFor="calcType">Calculation</label>
                  <select
                    id="calcType"
                    value={selectedCalc}
                    onChange={(e) => setSelectedCalc(e.target.value)}
                    style={{
                      width: "100%",
                      padding: "10px 12px",
                      border: "1px solid #cbd5e1",
                      borderRadius: "10px",
                      fontSize: "15px",
                      background: "#f8fafc",
                    }}
                  >
                    <option value="conversionRate">Conversion Rate</option>
                    <option value="roi">ROI</option>
                    <option value="roas">ROAS</option>
                    <option value="growth">Percentage Growth</option>
                    <option value="reverse">Reverse Percentage</option>
                    <option value="partOfWhole">% of total (X from Y)</option>
                  </select>
                </div>
              </div>
            </div>

            <div className="section">
              <h2>Inputs</h2>
              <div className="grid">
                <div>
                  <label htmlFor="userName">Your name (optional)</label>
                  <input
                    id="userName"
                    type="text"
                    placeholder="e.g. Alex"
                    value={inputs.userName}
                    onChange={update("userName")}
                  />
                </div>
                {renderInputs()}
              </div>
              <div className="actions">
                <button className="primary" onClick={() => null}>Values update live</button>
                <button className="ghost" onClick={reset}>Reset inputs</button>
                <button className="ghost" onClick={resetAll}>Reset all</button>
              </div>
            </div>

            <div className="section">
              <h2>Results</h2>
              {result && (
                <div className="result">
                  <div>
                    {result.title}
                    <small>{result.hint}</small>
                  </div>
                  <div>{result.value}</div>
                </div>
              )}
              {result && (
                <p className="lead" style={{ marginTop: "12px" }}>
                  {summary}
                </p>
              )}
            </div>

            <p className="footnote">
              Tip: Conversion Rate and ROI are shown as percentages; ROAS as a spend multiplier.
            </p>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
